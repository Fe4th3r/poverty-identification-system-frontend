{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'UserRegister',\n  data() {\n    return {\n      username: '',\n      password: '',\n      phoneNumber: '',\n      role: 'student',\n      successMessage: '',\n      errorMessage: ''\n    };\n  },\n  methods: {\n    async register() {\n      try {\n        const response = await axios.post('http://localhost:8080/user/register', {\n          // 修改为绝对路径\n          username: this.username,\n          password: this.password,\n          phoneNumber: this.phoneNumber,\n          role: this.role\n        });\n        this.successMessage = response.data.message;\n        this.errorMessage = '';\n        // 清空表单\n        this.username = '';\n        this.password = '';\n        this.phoneNumber = '';\n        this.role = 'student';\n      } catch (error) {\n        if (error.response && error.response.data) {\n          this.errorMessage = error.response.data.message || '注册失败';\n        } else {\n          this.errorMessage = '注册失败，请检查网络连接或稍后重试';\n        }\n        this.successMessage = '';\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","username","password","phoneNumber","role","successMessage","errorMessage","methods","register","response","post","message","error"],"sources":["C:\\Users\\Administrator\\poverty-identification-system-frontend\\src\\components\\UserRegister.vue"],"sourcesContent":["<template>\r\n  <div class=\"register-container\">\r\n    <h2>注册</h2>\r\n    <form @submit.prevent=\"register\">\r\n      <div class=\"form-group\">\r\n        <label for=\"username\">用户名：</label>\r\n        <input type=\"text\" id=\"username\" v-model=\"username\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"password\">密码：</label>\r\n        <input type=\"password\" id=\"password\" v-model=\"password\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"phoneNumber\">手机号：</label>\r\n        <input type=\"text\" id=\"phoneNumber\" v-model=\"phoneNumber\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"role\">角色：</label>\r\n        <select id=\"role\" v-model=\"role\">\r\n          <option value=\"student\">学生</option>\r\n          <option value=\"admin\">管理员</option>\r\n        </select>\r\n      </div>\r\n      <button type=\"submit\">注册</button>\r\n      <p>已有账号？<router-link to=\"/login\">去登录</router-link></p>\r\n    </form>\r\n    <div v-if=\"successMessage\" class=\"success-message\">{{ successMessage }}</div>\r\n    <div v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'UserRegister',\r\n  data() {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n      phoneNumber: '',\r\n      role: 'student',\r\n      successMessage: '',\r\n      errorMessage: ''\r\n    };\r\n  },\r\n  methods: {\r\n    async register() {\r\n      try {\r\n  const response = await axios.post('http://localhost:8080/user/register', { // 修改为绝对路径\r\n    username: this.username,\r\n    password: this.password,\r\n    phoneNumber: this.phoneNumber,\r\n    role: this.role\r\n  });\r\n  this.successMessage = response.data.message;\r\n  this.errorMessage = '';\r\n  // 清空表单\r\n  this.username = '';\r\n  this.password = '';\r\n  this.phoneNumber = '';\r\n  this.role = 'student';\r\n} catch (error) {\r\n  if (error.response && error.response.data) {\r\n      this.errorMessage = error.response.data.message || '注册失败';\r\n  } else {\r\n      this.errorMessage = '注册失败，请检查网络连接或稍后重试';\r\n  }\r\n  this.successMessage = '';\r\n}\r\n}\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.login-container {\r\n  width: 350px;\r\n  margin: 100px auto;\r\n  padding: 30px;\r\n  border: 1px solid #eee;\r\n  border-radius: 5px;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 20px;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  margin-bottom: 8px;\r\n  font-weight: bold;\r\n}\r\n\r\ninput[type=\"text\"],\r\ninput[type=\"password\"] {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  box-sizing: border-box;\r\n}\r\n\r\nbutton[type=\"submit\"] {\r\n  background-color: #4CAF50;\r\n  color: white;\r\n  padding: 12px 20px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  width: 100%;\r\n}\r\n\r\nbutton[type=\"submit\"]:hover {\r\n  background-color: #45a049;\r\n}\r\n\r\n.error-message {\r\n  color: red;\r\n  margin-top: 10px;\r\n}\r\n\r\n.register-link {\r\n  margin-top: 15px;\r\n  text-align: center;\r\n}\r\n</style>"],"mappings":"AAgCA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,WAAW,EAAE,EAAE;MACfC,IAAI,EAAE,SAAS;MACfC,cAAc,EAAE,EAAE;MAClBC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,QAAQA,CAAA,EAAG;MACf,IAAI;QACR,MAAMC,QAAO,GAAI,MAAMX,KAAK,CAACY,IAAI,CAAC,qCAAqC,EAAE;UAAE;UACzET,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBC,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBC,WAAW,EAAE,IAAI,CAACA,WAAW;UAC7BC,IAAI,EAAE,IAAI,CAACA;QACb,CAAC,CAAC;QACF,IAAI,CAACC,cAAa,GAAII,QAAQ,CAACT,IAAI,CAACW,OAAO;QAC3C,IAAI,CAACL,YAAW,GAAI,EAAE;QACtB;QACA,IAAI,CAACL,QAAO,GAAI,EAAE;QAClB,IAAI,CAACC,QAAO,GAAI,EAAE;QAClB,IAAI,CAACC,WAAU,GAAI,EAAE;QACrB,IAAI,CAACC,IAAG,GAAI,SAAS;MACvB,EAAE,OAAOQ,KAAK,EAAE;QACd,IAAIA,KAAK,CAACH,QAAO,IAAKG,KAAK,CAACH,QAAQ,CAACT,IAAI,EAAE;UACvC,IAAI,CAACM,YAAW,GAAIM,KAAK,CAACH,QAAQ,CAACT,IAAI,CAACW,OAAM,IAAK,MAAM;QAC7D,OAAO;UACH,IAAI,CAACL,YAAW,GAAI,mBAAmB;QAC3C;QACA,IAAI,CAACD,cAAa,GAAI,EAAE;MAC1B;IACA;EACE;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}